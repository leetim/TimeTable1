CREATE DATABASE 'localhost:C:\DB\TIMETABLE.FDB' user 'SYSDBA' password 'masterkey';

CREATE TABLE teachers(
	id integer primary key,
	name varchar(50)
	);

CREATE TABLE subjects(
	id integer primary key,
	name varchar(50)
	);

CREATE TABLE groups(
	id integer primary key,
	name varchar(50)
	);
	
CREATE TABLE classrooms(
	id integer primary key,
	name varchar(50)
	);

CREATE TABLE teachers_subjects(
	id integer primary key,
	teacher_id integer,
	subject_id integer
	);
	
CREATE TABLE groups_subjects(
	id integer primary key,
	group_id integer,
	subject_id integer
	);
	
CREATE TABLE weekday (
	id integer primary key,
	Name varchar(15)
	);

CREATE TABLE pair(
	id integer primary key,
	num integer
	);
	
CREATE TABLE lessons(
	id integer primary key,
	pair_id integer,
	weekday_id integer,
	group_id integer,
	subject_id integer,
	class_id integer,
	teacher_id integer
	);

CREATE GENERATOR IDGen;
SET GENERATOR IDGen TO 1000000;


SET TERM ^ ;

CREATE TRIGGER TEACHERS_TRIGER FOR TEACHERS ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER SUBJECTS_TRIGER FOR SUBJECTS ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER groups_TRIGER FOR groups ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER classrooms_TRIGER FOR classrooms ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER teachers_subjects_TRIGER FOR teachers_subjects ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER groups_subjects FOR groups_subjects ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER weekday_TRIGER FOR weekday ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER pair_TRIGER FOR pair ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

CREATE TRIGGER lessons_TRIGER FOR lessons ACTIVE 
BEFORE INSERT POSITION 1 
AS 
BEGIN 
    IF ((new.ID is NULL) OR (new.ID = 0)) then
        new.ID = gen_id(IDgen, 1);
END^

SET TERM ; ^
	
INSERT INTO teachers VALUES (10000, 'Juplev Anton Sergeevich');
INSERT INTO teachers VALUES (10001, 'Sporyshev Maksim Sergeevich');
INSERT INTO teachers VALUES (10002, 'Pak Gennadiy Konstantinovich');
INSERT INTO teachers VALUES (10003, 'Klevchikhin Yuriy Aleksandrovich');
INSERT INTO teachers VALUES (10004, 'Klenin Aleksandr Sergeevich');
INSERT INTO teachers VALUES (10005, 'Ludov Igor Yurevich');
INSERT INTO teachers VALUES (10006, 'Mashencev Vladimir Yurevich');
INSERT INTO teachers VALUES (10007, 'Nikolskaya Tatiana Vladimorivna');
INSERT INTO teachers VALUES (10008, 'Odin Obshchiy Fizruk');
INSERT INTO teachers VALUES (10009, 'Davidiv Denis Vitalievich');
INSERT INTO teachers VALUES (10010, 'Dostovalov Valeriy Nikolayevich');
INSERT INTO teachers VALUES (10011, 'Shepeleva Riorita Petrovna');
INSERT INTO teachers VALUES (10012, 'Romanyuk Mariya Aleksandrovna');
INSERT INTO teachers VALUES (10013, 'Pak Tatiana Vladimirovna');
INSERT INTO teachers VALUES (10014, 'Brizitskiy Roman Viktorovich');
INSERT INTO teachers VALUES (10015, 'Pinko Irina Viktorovna');
INSERT INTO teachers VALUES (10016, 'Kravcov Dmitriy Sergeevich');

INSERT INTO groups VALUES (20000, 'b810003a1');
INSERT INTO groups VALUES (20001, 'b810003a2');
INSERT INTO groups VALUES (20002, 'b8203a1');
INSERT INTO groups VALUES (20003, 'b8203a2');

INSERT INTO subjects VALUES (30000, 'Algebra and Geometry');
INSERT INTO subjects VALUES (30001, 'Mathematical analysis');
INSERT INTO subjects VALUES (30002, 'Workshop on Computer');
INSERT INTO subjects VALUES (30003, 'Languages and methods of programming');
INSERT INTO subjects VALUES (30004, 'PhysicalEducation');
INSERT INTO subjects VALUES (30005, 'English');
INSERT INTO subjects VALUES (30006, 'Discrete Mathematics');
INSERT INTO subjects VALUES (30007, 'Databases');
INSERT INTO subjects VALUES (30008, 'Economy');
INSERT INTO subjects VALUES (30009, 'Object-oriented analysis');
INSERT INTO subjects VALUES (30010, 'Physics');
INSERT INTO subjects VALUES (30011, 'Differential Equations');
INSERT INTO subjects VALUES (30012, 'Comprehensive analysis');
INSERT INTO subjects VALUES (30013, 'Numerical Methods');
INSERT INTO subjects VALUES (30014, 'Life safety');
INSERT INTO subjects VALUES (30015, 'Economic theory');

INSERT INTO classrooms VALUES (40001, 'D401');
INSERT INTO classrooms VALUES (40002, 'D402');
INSERT INTO classrooms VALUES (40003, 'D403');
INSERT INTO classrooms VALUES (40004, 'D404');
INSERT INTO classrooms VALUES (40005, 'D405');
INSERT INTO classrooms VALUES (40006, 'D406');
INSERT INTO classrooms VALUES (40007, 'D407');
INSERT INTO classrooms VALUES (40008, 'D408');
INSERT INTO classrooms VALUES (40009, 'D409');
INSERT INTO classrooms VALUES (40010, 'D410');
INSERT INTO classrooms VALUES (40011, 'D411');
INSERT INTO classrooms VALUES (40012, 'D412');
INSERT INTO classrooms VALUES (40013, 'D413');
INSERT INTO classrooms VALUES (40014, 'D414');

INSERT INTO weekday VALUES (500001, 'Mon');
INSERT INTO weekday VALUES (500002, 'Tue');
INSERT INTO weekday VALUES (500003, 'Wed');
INSERT INTO weekday VALUES (500004, 'Thu');
INSERT INTO weekday VALUES (500005, 'Fri');
INSERT INTO weekday VALUES (500006, 'Sat');
INSERT INTO weekday VALUES (500007, 'Sun');

INSERT INTO pair VALUES (600001, 1);
INSERT INTO pair VALUES (600002, 2);
INSERT INTO pair VALUES (600003, 3);
INSERT INTO pair VALUES (600004, 4);
INSERT INTO pair VALUES (600005, 5);
INSERT INTO pair VALUES (600006, 6);
INSERT INTO pair VALUES (600007, 7);
INSERT INTO pair VALUES (600008, 8);

INSERT INTO groups_subjects VALUES (70000, 20000, 30000);
INSERT INTO groups_subjects VALUES (70001, 20000, 30001);
INSERT INTO groups_subjects VALUES (70002, 20000, 30002);
INSERT INTO groups_subjects VALUES (70003, 20000, 30003);
INSERT INTO groups_subjects VALUES (70004, 20000, 30004);
INSERT INTO groups_subjects VALUES (70005, 20000, 30005);
INSERT INTO groups_subjects VALUES (70006, 20000, 30006);
INSERT INTO groups_subjects VALUES (70007, 20000, 30007);
INSERT INTO groups_subjects VALUES (70008, 20000, 30009);
INSERT INTO groups_subjects VALUES (70009, 20000, 30011);
INSERT INTO groups_subjects VALUES (70010, 20000, 30012);
INSERT INTO groups_subjects VALUES (70011, 20001, 30000);
INSERT INTO groups_subjects VALUES (70012, 20001, 30001);
INSERT INTO groups_subjects VALUES (70013, 20001, 30002);
INSERT INTO groups_subjects VALUES (70014, 20001, 30003);
INSERT INTO groups_subjects VALUES (70015, 20001, 30004);
INSERT INTO groups_subjects VALUES (70016, 20001, 30005);
INSERT INTO groups_subjects VALUES (70017, 20001, 30006);
INSERT INTO groups_subjects VALUES (70018, 20001, 30009);
INSERT INTO groups_subjects VALUES (70019, 20001, 30011);
INSERT INTO groups_subjects VALUES (70020, 20001, 30012);
INSERT INTO groups_subjects VALUES (70021, 20001, 30013);
INSERT INTO groups_subjects VALUES (70022, 20002, 30000);
INSERT INTO groups_subjects VALUES (70023, 20002, 30001);
INSERT INTO groups_subjects VALUES (70024, 20002, 30002);
INSERT INTO groups_subjects VALUES (70025, 20002, 30003);
INSERT INTO groups_subjects VALUES (70026, 20002, 30004);
INSERT INTO groups_subjects VALUES (70027, 20002, 30005);
INSERT INTO groups_subjects VALUES (70028, 20002, 30006);
INSERT INTO groups_subjects VALUES (70029, 20002, 30007);
INSERT INTO groups_subjects VALUES (70030, 20002, 30008);
INSERT INTO groups_subjects VALUES (70031, 20002, 30009);
INSERT INTO groups_subjects VALUES (70032, 20002, 30011);
INSERT INTO groups_subjects VALUES (70033, 20002, 30012);
INSERT INTO groups_subjects VALUES (70034, 20002, 30013);
INSERT INTO groups_subjects VALUES (70035, 20002, 30014);
INSERT INTO groups_subjects VALUES (70036, 20002, 30015);
INSERT INTO groups_subjects VALUES (70037, 20003, 30000);
INSERT INTO groups_subjects VALUES (70038, 20003, 30001);
INSERT INTO groups_subjects VALUES (70039, 20003, 30002);
INSERT INTO groups_subjects VALUES (70040, 20003, 30003);
INSERT INTO groups_subjects VALUES (70041, 20003, 30004);
INSERT INTO groups_subjects VALUES (70042, 20003, 30005);
INSERT INTO groups_subjects VALUES (70043, 20003, 30006);
INSERT INTO groups_subjects VALUES (70044, 20003, 30007);
INSERT INTO groups_subjects VALUES (70045, 20003, 30008);
INSERT INTO groups_subjects VALUES (70046, 20003, 30009);
INSERT INTO groups_subjects VALUES (70047, 20003, 30010);
INSERT INTO groups_subjects VALUES (70048, 20003, 30011);
INSERT INTO groups_subjects VALUES (70049, 20003, 30012);
INSERT INTO groups_subjects VALUES (70050, 20003, 30013);
INSERT INTO groups_subjects VALUES (70051, 20003, 30014);

INSERT INTO teachers_subjects VALUES (80000, 10000, 30002);
INSERT INTO teachers_subjects VALUES (80001, 10001, 30003);
INSERT INTO teachers_subjects VALUES (80002, 10002, 30000);
INSERT INTO teachers_subjects VALUES (80003, 10003, 30001);
INSERT INTO teachers_subjects VALUES (80004, 10004, 30007);
INSERT INTO teachers_subjects VALUES (80005, 10006, 30004);
INSERT INTO teachers_subjects VALUES (80006, 10007, 30005);
INSERT INTO teachers_subjects VALUES (80007, 10008, 30004);
INSERT INTO teachers_subjects VALUES (80008, 10009, 30008);
INSERT INTO teachers_subjects VALUES (80009, 10010, 30009);
INSERT INTO teachers_subjects VALUES (80010, 10012, 30011);
INSERT INTO teachers_subjects VALUES (80011, 10013, 30013);
INSERT INTO teachers_subjects VALUES (80012, 10014, 30014);
INSERT INTO teachers_subjects VALUES (80013, 10015, 30015);
INSERT INTO teachers_subjects VALUES (80014, 10016, 30005);

INSERT INTO lessons VALUES(90000, 600001, 500001, 20000, 30002, 40001, 10000);
INSERT INTO lessons VALUES(90001, 600001, 500001, 20001, 30002, 40002, 10006);
INSERT INTO lessons VALUES(90002, 600002, 500001, 20001, 30002, 40002, 10006);
INSERT INTO lessons VALUES(90003, 600003, 500001, 20000, 30003, 40003, 10001);
INSERT INTO lessons VALUES(90004, 600004, 500001, 20000, 30003, 40003, 10001);

INSERT INTO lessons VALUES(90005, 600001, 500002, 20000, 30000, 40001, 10002);
INSERT INTO lessons VALUES(90006, 600001, 500002, 20001, 30000, 40001, 10002);
INSERT INTO lessons VALUES(90007, 600002, 500002, 20000, 30006, 40002, 10002);
INSERT INTO lessons VALUES(90008, 600002, 500002, 20001, 30006, 40002, 10002);
INSERT INTO lessons VALUES(90009, 600003, 500002, 20000, 30001, 40003, 10003);
INSERT INTO lessons VALUES(90010, 600003, 500002, 20001, 30001, 40003, 10003);
INSERT INTO lessons VALUES(90011, 600004, 500002, 20001, 30006, 40001, 10002);

INSERT INTO lessons VALUES(90012, 600002, 500003, 20000, 30006, 40001, 10002);
INSERT INTO lessons VALUES(90013, 600002, 500003, 20001, 30006, 40001, 10002);
INSERT INTO lessons VALUES(90014, 600003, 500003, 20000, 30000, 40001, 10002);
INSERT INTO lessons VALUES(90015, 600003, 500003, 20001, 30000, 40001, 10002);
INSERT INTO lessons VALUES(90016, 600004, 500003, 20000, 30000, 40003, 10002);
INSERT INTO lessons VALUES(90017, 600004, 500003, 20001, 30000, 40003, 10002);
INSERT INTO lessons VALUES(90018, 600005, 500003, 20000, 30004, 40014, 10008);
INSERT INTO lessons VALUES(90019, 600005, 500003, 20001, 30004, 40014, 10008);

INSERT INTO lessons VALUES(90020, 600001, 500004, 20000, 30007, 40001, 10004);
INSERT INTO lessons VALUES(90021, 600001, 500004, 20001, 30007, 40001, 10004);
INSERT INTO lessons VALUES(90022, 600002, 500004, 20000, 30007, 40002, 10004);
INSERT INTO lessons VALUES(90023, 600002, 500004, 20001, 30003, 40003, 10001);
INSERT INTO lessons VALUES(90024, 600003, 500004, 20000, 30003, 40004, 10005);
INSERT INTO lessons VALUES(90025, 600003, 500004, 20001, 30003, 40004, 10005);

INSERT INTO lessons VALUES(90026, 600002, 500005, 20000, 30001, 40001, 10003);
INSERT INTO lessons VALUES(90027, 600002, 500005, 20001, 30001, 40001, 10003);
INSERT INTO lessons VALUES(900028, 600003, 500005, 20000, 30001, 40002, 10003);
INSERT INTO lessons VALUES(90029, 600003, 500005, 20001, 30001, 40002, 10003);

INSERT INTO lessons VALUES(90030, 600002, 500006, 20001, 30007, 40001, 10004);
INSERT INTO lessons VALUES(90031, 600003, 500006, 20001, 30007, 40001, 10004);
INSERT INTO lessons VALUES(90032, 600004, 500006, 20000, 30005, 40003, 10007);
INSERT INTO lessons VALUES(90033, 600004, 500006, 20001, 30005, 40003, 10007);
INSERT INTO lessons VALUES(90034, 600005, 500006, 20000, 30004, 40014, 10008);
INSERT INTO lessons VALUES(90035, 600005, 500006, 20001, 30004, 40014, 10008);

INSERT INTO lessons VALUES(90036, 600001, 500001, 20002, 30008, 40005, 10009);
INSERT INTO lessons VALUES(90037, 600001, 500001, 20003, 30008, 40005, 10009);
INSERT INTO lessons VALUES(90038, 600002, 500001, 20002, 30008, 40005, 10009);
INSERT INTO lessons VALUES(90039, 600002, 500001, 20003, 30008, 40005, 10009);
INSERT INTO lessons VALUES(90040, 600003, 500001, 20002, 30009, 40006, 10000);
INSERT INTO lessons VALUES(90041, 600003, 500001, 20003, 30009, 40006, 10000);
INSERT INTO lessons VALUES(90042, 600004, 500001, 20002, 30002, 40007, 10004);
INSERT INTO lessons VALUES(90043, 600004, 500001, 20003, 30009, 40008, 10000);
INSERT INTO lessons VALUES(90044, 600005, 500001, 20002, 30002, 40007, 10004);
INSERT INTO lessons VALUES(90045, 600005, 500001, 20003, 30009, 40008, 10000);

INSERT INTO lessons VALUES(90046, 600005, 500002, 20002, 30004, 40014, 10008);
INSERT INTO lessons VALUES(90047, 600005, 500002, 20003, 30004, 40014, 10008);

INSERT INTO lessons VALUES(90048, 600001, 500003, 20002, 30010, 40006, 10010);
INSERT INTO lessons VALUES(90049, 600001, 500003, 20003, 30010, 40006, 10010);
INSERT INTO lessons VALUES(90050, 600002, 500003, 20002, 30011, 40005, 10011);
INSERT INTO lessons VALUES(90051, 600002, 500003, 20003, 30011, 40005, 10011);
INSERT INTO lessons VALUES(90052, 600003, 500003, 20002, 30011, 40005, 10011);
INSERT INTO lessons VALUES(90053, 600003, 500003, 20003, 30011, 40005, 10011);
INSERT INTO lessons VALUES(90054, 600004, 500003, 20002, 30010, 40007, 10010);
INSERT INTO lessons VALUES(90055, 600004, 500003, 20003, 30010, 40007, 10010);
INSERT INTO lessons VALUES(90056, 600005, 500003, 20002, 30005, 40006, 10012);
INSERT INTO lessons VALUES(90057, 600005, 500003, 20003, 30005, 40006, 10012);

INSERT INTO lessons VALUES(90058, 600001, 500004, 20002, 30012, 40005, 10003);
INSERT INTO lessons VALUES(90059, 600001, 500004, 20003, 30012, 40005, 10003);
INSERT INTO lessons VALUES(90060, 600002, 500004, 20002, 30013, 40006, 10013);
INSERT INTO lessons VALUES(90061, 600002, 500004, 20003, 30013, 40006, 10013);
INSERT INTO lessons VALUES(90062, 600003, 500004, 20002, 30012, 40007, 10003);
INSERT INTO lessons VALUES(90063, 600003, 500004, 20003, 30012, 40007, 10003);
INSERT INTO lessons VALUES(90064, 600004, 500004, 20002, 30013, 40008, 10014);
INSERT INTO lessons VALUES(90065, 600004, 500004, 20003, 30013, 40008, 10014);
INSERT INTO lessons VALUES(90066, 600005, 500004, 20002, 30014, 40009, 10015);
INSERT INTO lessons VALUES(90067, 600005, 500004, 20003, 30014, 40009, 10015);

INSERT INTO lessons VALUES(90068, 600001, 500005, 20002, 30009, 40005, 10000);
INSERT INTO lessons VALUES(90069, 600001, 500005, 20003, 30002, 40005, 10004);
INSERT INTO lessons VALUES(90070, 600002, 500005, 20002, 30009, 40005, 10000);
INSERT INTO lessons VALUES(90071, 600002, 500005, 20003, 30002, 40005, 10004);
INSERT INTO lessons VALUES(90072, 600003, 500005, 20002, 30015, 40006, 10016);
INSERT INTO lessons VALUES(90073, 600003, 500005, 20003, 30015, 40006, 10016);
INSERT INTO lessons VALUES(90074, 600005, 500005, 20002, 30004, 40014, 10008);
INSERT INTO lessons VALUES(90075, 600005, 500005, 20003, 30004, 40014, 10008);


COMMIT;


